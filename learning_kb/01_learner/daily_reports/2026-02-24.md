# Daily Report

Date: 2026-02-24

Today Goal (English, one line):
Complete Lesson 12 by implementing a stable level transition loop and verifying reset consistency.

What I completed today:
- Learner line:
  - Completed Lesson 12 minimal loop with scene switching from Level 1 to Level 2.
  - Added `next_level_scene_path` exported field in `Main` logic and configured Level 1 to transition to Level 2.
  - Added deferred scene switch flow after `WON` and retained `R` for current-scene restart semantics.
  - Created `level_02.tscn` and verified state/HUD reset behavior after transition.
  - Extended practice by creating `level_03.tscn` and validating multi-level chain configuration.
  - Diagnosed and fixed loopback configuration issue (`03 -> 02`) by clearing final level next-scene path.
  - Final acceptance passed: `01 -> 02 -> 03`, terminal level no longer auto-jumps, restart remains local.

English Summary (5-8 lines):
Today we completed Lesson 12 in learner mode.
We implemented scene transition using an exported next-level path on the Main node.
After winning a level, the scene now switches with a deferred call for safer timing.
Restart behavior remains local to the current level via reload_current_scene.
We created Level 2 and then practiced extending the flow to Level 3.
A loopback bug was reproduced and fixed by correcting final-level configuration.
The level chain and state reset behavior are now stable and testable.

Top Terms:
- `@export_file`: 将场景路径暴露到 Inspector 的导出字段，便于按关卡配置。
- `call_deferred`: 延迟到当前帧后再执行，降低信号回调里直接切场景的时序风险。
- `change_scene_to_file`: 切换到目标场景文件，返回错误码可用于失败诊断。
- `reload_current_scene`: 仅重开当前关卡，不改变关卡链路。
- `terminal level`: 最后一关（next path 为空），通关后不再自动切场景。

Next step:
Start Lesson 13 (`00_plan/lesson_13_2h_runbook.md`) for ConfigFile-based save/settings basics.
