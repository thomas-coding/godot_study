# Daily Report

Date: 2026-02-27

Today Goal (English, one line):
Complete Lesson 14 by building a minimal in-game settings menu with runtime apply and persistence.

What I completed today:
- Learner line:
  - Completed Lesson 14 and built settings UI skeleton in `hud.tscn` (`SettingsButton`, `SettingsPanel`, volume and window controls, back button).
  - Wired HUD behavior in `hud.gd`: settings entry works only in `PAUSED`, panel open/close is stable.
  - Implemented runtime apply for `audio_volume` (`AudioServer`) and `window_mode` (`DisplayServer`).
  - Extended `save_manager.gd` to persist `window_mode` with validation (`windowed`/`borderless`/`fullscreen`).
  - Verified persistence across restart for both `audio_volume` and `window_mode`.
  - Verified no regression in core gameplay loop (`start/pause/resume`).
- Session quality improvements:
  - Captured a verification incident: listen-based audio validation is invalid when project has no audio assets.
  - Switched to observable/log-based validation and confirmed values from runtime output.
  - Captured environment caveat: embedded run mode blocks visible window-mode changes; standalone run verification passed after disabling embed mode.

English Summary (5-8 lines):
Today we completed Lesson 14 in learner mode.
We built a minimal settings menu inside HUD with volume and window mode controls.
Both controls now apply at runtime through AudioServer and DisplayServer.
SaveManager was extended to persist window mode together with audio volume.
Validation confirmed settings survive restart and gameplay flow remains stable.
We also fixed the verification method for no-audio projects by using observable logs.
The next lesson is data-driven parameters with Resource.

Top Terms:
- `DisplayServer`: 管理窗口模式与窗口标志的底层接口。
- `OptionButton`: 下拉选项控件，适合窗口模式枚举选择。
- `linear_to_db`: 将线性音量值转换为分贝值。
- `embedded run`: 编辑器嵌入运行模式，会限制部分窗口行为可视效果。
- `persistence`: 重启后仍保持上次设置状态的能力。

Next step:
Start Lesson 15 (`00_plan/lesson_15_2h_runbook.md`) for Resource-driven gameplay parameter tuning.
