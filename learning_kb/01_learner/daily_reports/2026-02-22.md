# Daily Report

Date: 2026-02-22

Today Goal (English, one line):
Complete Lesson 10 by adding a patrol enemy with contact damage under the existing state-machine/HUD flow.

What I completed today:
- Learner line:
  - Lesson 10 completed: created `Enemy` scene with `CharacterBody2D` body collision + `Area2D` hitbox trigger.
  - Implemented patrol logic (`left/right` bounds, auto turn-back, facing update) in `scenes/enemy.gd`.
  - Integrated enemy damage into `Main` by connecting `hit_player` signal and reusing existing hp deduction path.
  - Preserved state gate: damage is applied only in `PLAYING`; terminal states do not continue damage.
  - Replaced enemy visual with learner-provided asymmetric sprite (`assets/enemy/enemy.png`) and tuned scale/position.
  - Learner理解确认完成：已能解释 `global_position`、视觉翻转、以及 body collision vs hitbox trigger 的职责差异。

English Summary (5-8 lines):
Today we completed Lesson 10 in learner mode.
We introduced a reusable enemy scene with clear responsibility split.
The enemy body handles movement and ground collision through CharacterBody2D.
The Area2D hitbox only emits damage signals when the player enters.
Main remains the single authority for hp deduction and state gating.
We also switched to an asymmetric enemy texture so facing flip is visible.
The next lesson is objective gating: collect all items before goal unlock.

Top Terms:
- `global_position`: 节点在世界坐标系中的位置，不随 Camera 变化而重定义。
- `hitbox`: 仅用于触发检测的区域，不承担实体移动碰撞。
- `state gate`: 通过状态机限制逻辑生效时机（例如仅 `PLAYING` 扣血）。
- `facing flip`: 通过 `Visual.scale.x` 正负切换实现左右朝向。

Next step:
Execute Lesson 11 (`00_plan/lesson_11_2h_runbook.md`) to lock goal until collectible objectives are met.
