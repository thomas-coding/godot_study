# Daily Report

Date: 2026-02-20

Today Goal (English, one line):
Switch the learning workflow from day-based scheduling to lesson-based scheduling with enough prepared lesson buffer.

What I completed today:
- Updated planning mode from "按天" to "按课次".
- Defined fixed lesson queue with current progression and next lesson pointer.
- Prepared three ready-to-run 2h lessons in advance:
  - `00_plan/lesson_04_2h_runbook.md`
  - `00_plan/lesson_05_2h_runbook.md`
  - `00_plan/lesson_06_2h_runbook.md`
- Updated governance/protocol entry points:
  - `AGENTS.md`
  - `03_sessions/session_protocol.md`
  - `00_meta/dual_track_governance.md`

English Summary (5-8 lines):
Today we migrated the study process from day-based tracking to lesson-based tracking.
Each lesson is now planned as a 2-hour unit.
The queue now supports "continue learning" and "next lesson" style progression.
We also established a preparation buffer of three lessons in advance.
This makes it possible to learn multiple lessons in one day without waiting for new prep.
The next execution target is Lesson 4.

Top Terms:
- `lesson queue`: 课次推进队列，记录当前课次、下一课与备课缓冲。
- `runbook`: 一节课可直接执行的步骤化脚本。
- `prep buffer`: 提前准备的课程库存，防止学习中断。

Next step:
Start Lesson 4 and finish the start-gate + layer/mask convention tasks.

Lesson execution update (same day):
- Finished Lesson 4 learner implementation and runtime validation.
- Added `start_game` input gate with `StartLabel` and confirmed start-only behavior before Enter.
- Verified restart behavior after gate: `R` reloads scene and returns to "Press Enter to Start" state.
- Applied collision layer/mask convention:
  - `Player` layer 1, mask includes `World(2)` and `Collectible(3)`
  - `Ground` layer 2
  - `Coin(Area2D)` layer 3, mask checks `Player(1)`
- Full regression passed: start/play, collect/score, pause/resume, restart, no red errors.

Updated next step:
Start Lesson 5 and implement hazard damage + game over + restart loop.

Extended lesson execution (same day):
- Lesson 5 completed:
  - Added `Hazard(Area2D)` with `hit` signal.
  - Connected hazard hits to `Main` hp system and `GameOver` gate.
  - Verified `HP: 3 -> 0` path, game over stop, and restart recovery.
- Lesson 6 completed:
  - Added `Goal(Area2D)` with `reached_goal` signal.
  - Connected goal trigger to win gate and `YOU WIN` feedback.
  - Verified win state pause, pause hotkey lock in terminal state, and restart recovery.

Final next step:
Start Lesson 7 and implement Camera2D follow + jitter diagnosis.
